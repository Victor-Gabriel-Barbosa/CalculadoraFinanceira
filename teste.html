<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste Completo - Calculadora Financeira</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      padding: 20px;
      min-height: auto;
    }

    .test-container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 600px;
      gap: 30px;
      align-items: start;
    }

    .test-panel {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      color: #333;
    }

    .test-panel h1 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }

    .test-section {
      margin-bottom: 25px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
    }

    .test-section h2 {
      background: #3498db;
      color: white;
      padding: 12px 15px;
      margin: 0;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .test-section h2:hover {
      background: #2980b9;
    }

    .test-content {
      padding: 15px;
      display: none;
    }

    .test-content.active {
      display: block;
    }

    .test-case {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 10px;
    }

    .test-case h3 {
      color: #495057;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .test-steps {
      list-style: none;
      padding: 0;
    }

    .test-steps li {
      padding: 4px 0;
      border-bottom: 1px dotted #ccc;
      font-size: 13px;
    }

    .test-steps li:last-child {
      border-bottom: none;
    }

    .step-number {
      background: #007bff;
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      margin-right: 8px;
    }

    .expected-result {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
      padding: 8px 12px;
      border-radius: 4px;
      margin-top: 8px;
      font-size: 12px;
    }

    .keyboard-shortcuts {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      color: #856404;
      padding: 10px;
      border-radius: 6px;
      margin-top: 15px;
    }

    .keyboard-shortcuts h4 {
      margin-bottom: 8px;
      font-size: 14px;
    }

    .shortcut-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 5px;
      font-size: 12px;
    }

    .calculator-wrapper {
      position: sticky;
      top: 20px;
    }

    .status-indicator {
      background: #17a2b8;
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      text-align: center;
      margin-bottom: 15px;
      font-weight: bold;
      font-size: 14px;
    }

    .toggle-btn {
      background: #28a745;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 11px;
      margin-left: 10px;
    }

    .toggle-btn:hover {
      background: #218838;
    }

    .error-cases {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
    }

    .error-cases h2 {
      background: #dc3545;
    }

    .error-cases h2:hover {
      background: #c82333;
    }

    @media (max-width: 1200px) {
      .test-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .calculator-wrapper {
        position: static;
      }
    }

    /* Estilos para se√ß√£o de conven√ß√£o de sinais */
    .convention-section {
      border: 2px solid #17a2b8;
      background: #d1ecf1;
    }

    .convention-section h2 {
      background: #17a2b8 !important;
      color: white !important;
    }

    .convention-info {
      padding: 15px;
      background: #b8daff;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .convention-info h4 {
      color: #004085;
      margin-bottom: 10px;
    }

    .convention-info p {
      margin: 8px 0;
      color: #004085;
      font-weight: bold;
    }

    .convention-info ul {
      margin: 10px 0;
      padding-left: 20px;
      color: #004085;
    }

    .convention-tip {
      padding: 10px;
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 6px;
    }

    .convention-tip p {
      margin: 0;
      color: #856404;
      font-size: 13px;
    }
  </style>
</head>

<body>
  <div class="test-container">
    <!-- Painel de Testes -->
    <div class="test-panel">
      <h1>üß™ Teste Completo da Calculadora Financeira</h1>
      
      <div class="status-indicator">
        ‚úÖ Calculadora carregada e pronta para testes
      </div>

      <!-- Conven√ß√£o de Sinais -->
      <div class="test-section convention-section">
        <h2 onclick="toggleSection(this)">
          ‚ÑπÔ∏è IMPORTANTE: Conven√ß√£o de Sinais (HP 12C)
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content active">
          <div class="convention-info">
            <h4>üìã Regra Fundamental:</h4>
            <p>
              Fluxos de ENTRADA e SA√çDA de caixa devem ter sinais OPOSTOS
            </p>
            <ul>
              <li><strong>PV (Valor Presente):</strong> Normalmente NEGATIVO (investimento/pagamento)</li>
              <li><strong>FV (Valor Futuro):</strong> Normalmente POSITIVO (recebimento/resgate)</li>
              <li><strong>Exemplo:</strong> Invisto R$ 1.000 hoje (PV = -1000) para receber R$ 1.240 em 12 meses (FV = +1240)</li>
            </ul>
          </div>
          <div class="convention-tip">
            <p>
              <strong>üí° Dica:</strong> Use o bot√£o <code>+/-</code> para alterar o sinal dos valores antes de definir as vari√°veis financeiras.
            </p>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 1: Juros Simples -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          üìä Testes de Juros Simples
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Calcular Valor Futuro (FV)</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Selecione "Juros Simples" no seletor de modo</li>
              <li><span class="step-number">2</span>Digite 1000, clique em +/- para tornar negativo, e clique em PV</li>
              <li><span class="step-number">3</span>Digite 2 e clique em i</li>
              <li><span class="step-number">4</span>Digite 12 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> FV = 1.240,00 (investimento inicial negativo, retorno positivo)
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Calcular Taxa de Juros (i)</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique em AC para limpar</li>
              <li><span class="step-number">2</span>Digite 1000, clique em +/- e clique em PV</li>
              <li><span class="step-number">3</span>Digite 1240 e clique em FV</li>
              <li><span class="step-number">4</span>Digite 12 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> i = 2% ao m√™s (fluxos com sinais opostos)
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 3: Calcular Per√≠odo (n)</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique em AC para limpar</li>
              <li><span class="step-number">2</span>Digite 1000, clique em +/- e clique em PV</li>
              <li><span class="step-number">3</span>Digite 1240 e clique em FV</li>
              <li><span class="step-number">4</span>Digite 2 e clique em i</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> n = 12 meses (com sinais corretos)
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 2: Juros Compostos -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          üìà Testes de Juros Compostos
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Investimento com Juros Compostos</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Selecione "Juros Compostos" no seletor</li>
              <li><span class="step-number">2</span>Digite 1000, clique em +/- e clique em PV</li>
              <li><span class="step-number">3</span>Digite 1 e clique em i (1% ao m√™s)</li>
              <li><span class="step-number">4</span>Digite 12 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> FV ‚âà 1.126,83 (capitaliza√ß√£o composta, sinais opostos)
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Calcular Taxa Composta</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique em AC</li>
              <li><span class="step-number">2</span>Digite 1000, clique em +/- e clique em PV</li>
              <li><span class="step-number">3</span>Digite 1126.83 e clique em FV</li>
              <li><span class="step-number">4</span>Digite 12 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> i ‚âà 1% ao m√™s (com sinais corretos)
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 3: Empr√©stimo (PV positivo, FV negativo)</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique em AC</li>
              <li><span class="step-number">2</span>Digite 5000 e clique em PV (empr√©stimo recebido)</li>
              <li><span class="step-number">3</span>Digite 6000, clique em +/- e clique em FV (pagamento)</li>
              <li><span class="step-number">4</span>Digite 12 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> i ‚âà 1.53% ao m√™s (taxa do empr√©stimo)
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 3: Desconto Racional -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          üìâ Testes de Desconto Racional
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Calcular Desconto Racional</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Selecione "Desconto Racional" no seletor</li>
              <li><span class="step-number">2</span>Digite 1000 e clique em N (Valor Nominal)</li>
              <li><span class="step-number">3</span>Digite 2 e clique em i (2% ao m√™s)</li>
              <li><span class="step-number">4</span>Digite 3 e clique em n (3 meses)</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Va ‚âà 943,40 e D ‚âà 56,60
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Calcular Valor Nominal</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique em AC</li>
              <li><span class="step-number">2</span>Digite 943.40 e clique em Va</li>
              <li><span class="step-number">3</span>Digite 2 e clique em i</li>
              <li><span class="step-number">4</span>Digite 3 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> N ‚âà 1000,00
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 4: Desconto Comercial -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          üí∞ Testes de Desconto Comercial
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Calcular Desconto Comercial</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Selecione "Desconto Comercial"</li>
              <li><span class="step-number">2</span>Digite 1000 e clique em N</li>
              <li><span class="step-number">3</span>Digite 2 e clique em i</li>
              <li><span class="step-number">4</span>Digite 3 e clique em n</li>
              <li><span class="step-number">5</span>Clique em CPT</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Va = 940,00 e D = 60,00
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 5: Opera√ß√µes B√°sicas -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          üî¢ Testes de Opera√ß√µes B√°sicas
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Calculadora como Calculadora Comum</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite 25 + 15 =</li>
              <li><span class="step-number">2</span>Digite 100 √ó 1.05 =</li>
              <li><span class="step-number">3</span>Digite 81 ‚Üí ‚àö (raiz quadrada)</li>
              <li><span class="step-number">4</span>Digite 5 ‚Üí x¬≤ (pot√™ncia)</li>
            </ul>
            <div class="expected-result">
              <strong>Resultados esperados:</strong> 40, 105, 9, 25
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Fun√ß√µes Especiais</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite 50 ‚Üí % (converte para 0.5)</li>
              <li><span class="step-number">2</span>Digite 123 ‚Üí +/- (altera sinal)</li>
              <li><span class="step-number">3</span>Digite 12.345 ‚Üí ‚Üê (apaga √∫ltimo d√≠gito)</li>
              <li><span class="step-number">4</span>Teste CE e AC</li>
            </ul>
            <div class="expected-result">
              <strong>Resultados esperados:</strong> 0.5, -123, 12.34, displays limpos
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 6: Testes de Entrada e Interface -->
      <div class="test-section">
        <h2 onclick="toggleSection(this)">
          ‚å®Ô∏è Testes de Entrada e Interface
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Entrada por Teclado</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Clique na calculadora para focar</li>
              <li><span class="step-number">2</span>Digite n√∫meros usando o teclado</li>
              <li><span class="step-number">3</span>Use +, -, *, / para opera√ß√µes</li>
              <li><span class="step-number">4</span>Pressione Enter para =</li>
              <li><span class="step-number">5</span>Use Backspace para apagar</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Teclado funciona como os bot√µes
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Copiar e Colar</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Copie um n√∫mero (ex: 1500)</li>
              <li><span class="step-number">2</span>Clique na calculadora e Cole (Ctrl+V)</li>
              <li><span class="step-number">3</span>Copie uma express√£o (ex: 100*1.5)</li>
              <li><span class="step-number">4</span>Cole na calculadora</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Valores colados e calculados automaticamente
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 3: Seletores de Moeda e Per√≠odo</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite um valor e defina como PV</li>
              <li><span class="step-number">2</span>Clique no seletor de moeda do PV</li>
              <li><span class="step-number">3</span>Mude para D√≥lar ou Euro</li>
              <li><span class="step-number">4</span>Teste os seletores de per√≠odo para taxa e tempo</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> S√≠mbolos de moeda mudam, convers√µes funcionam
            </div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o 7: Casos de Erro -->
      <div class="test-section error-cases">
        <h2 onclick="toggleSection(this)">
          ‚ö†Ô∏è Testes de Casos de Erro
          <button class="toggle-btn" onclick="event.stopPropagation()">Expandir</button>
        </h2>
        <div class="test-content">
          <div class="test-case">
            <h3>Caso 1: Dados Insuficientes</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite apenas PV = 1000</li>
              <li><span class="step-number">2</span>Clique em CPT</li>
              <li><span class="step-number">3</span>Adicione i = 2</li>
              <li><span class="step-number">4</span>Clique em CPT novamente</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Mensagem de erro "Dados insuficientes"
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 2: Valores Conflitantes</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite PV = 1000, FV = 1000 (mesmo sinal), i = 5, n = 12</li>
              <li><span class="step-number">2</span>Clique em CPT</li>
              <li><span class="step-number">3</span>Digite taxas muito altas (ex: i = 100)</li>
              <li><span class="step-number">4</span>Teste com per√≠odos negativos</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Mensagens de erro apropriadas (sinais iguais imposs√≠vel)
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 3: Teste de Sinais Incorretos</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite PV = 1000 (positivo), FV = 1240 (positivo)</li>
              <li><span class="step-number">2</span>Digite i = 2, n = 12</li>
              <li><span class="step-number">3</span>Clique em CPT</li>
              <li><span class="step-number">4</span>Observe que pode dar erro ou resultado inconsistente</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Erro matem√°tico ou aviso sobre sinais
            </div>
          </div>

          <div class="test-case">
            <h3>Caso 3: Divis√£o por Zero</h3>
            <ul class="test-steps">
              <li><span class="step-number">1</span>Digite 10 √∑ 0 =</li>
              <li><span class="step-number">2</span>Digite 0 ‚Üí ‚àö</li>
              <li><span class="step-number">3</span>Digite n√∫mero negativo ‚Üí ‚àö</li>
            </ul>
            <div class="expected-result">
              <strong>Resultado esperado:</strong> Mensagens de erro matem√°tico
            </div>
          </div>
        </div>
      </div>

      <!-- Atalhos de Teclado -->
      <div class="keyboard-shortcuts">
        <h4>‚å®Ô∏è Atalhos de Teclado Dispon√≠veis:</h4>
        <div class="shortcut-list">
          <div>0-9: N√∫meros</div>
          <div>.: Decimal</div>
          <div>+: Soma</div>
          <div>-: Subtra√ß√£o</div>
          <div>*: Multiplica√ß√£o</div>
          <div>/: Divis√£o</div>
          <div>Enter: Igual (=)</div>
          <div>Backspace: Apagar (‚Üê)</div>
          <div>Escape: Limpar (AC)</div>
          <div>Ctrl+V: Colar</div>
        </div>
      </div>
    </div>

    <!-- Calculadora -->
    <div class="calculator-wrapper">
      <div class="calculator-container">
        <div class="calculator" tabindex="0" id="calculator">
          <!-- Header da calculadora -->
          <div class="calculator-header">
            <h2>CALCULADORA FINANCEIRA</h2>
            <div class="mode-selector-container">
              <label for="modeSelector">Modo:</label>
              <select class="mode-selector" id="modeSelector">
                <option value="simples" selected>Juros Simples</option>
                <option value="composto">Juros Compostos</option>
                <option value="desconto-racional">Desconto Racional</option>
                <option value="desconto-comercial">Desconto Comercial</option>
              </select>
            </div>
          </div>

          <!-- Display principal -->
          <div class="display-section">
            <div class="operation-display">
              <div class="mode-display" id="modeDisplay">JUROS SIMPLES</div>
              <div class="operation-details" id="operationDisplay"></div>
            </div>
            <div class="main-display" id="mainDisplay">0</div>
            <div class="variable-display" id="variableDisplay">-</div>
          </div>

          <!-- Status dos valores financeiros -->
          <div class="status-display">
            <div class="status-item">
              <span class="label">PV:</span>
              <div class="value-container">
                <span class="value" id="pvValue">-</span>
                <button class="clear-value-btn" id="clearPV" style="display: none;" title="Remover valor PV">x</button>
              </div>
              <select class="value-selector" id="pvSelector" style="display: none;">
                <option value="real">Real (R$)</option>
                <option value="dollar">D√≥lar (US$)</option>
                <option value="euro">Euro (‚Ç¨)</option>
              </select>
            </div>
            <div class="status-item">
              <span class="label">FV:</span>
              <div class="value-container">
                <span class="value" id="fvValue">-</span>
                <button class="clear-value-btn" id="clearFV" style="display: none;" title="Remover valor FV">x</button>
              </div>
              <select class="value-selector" id="fvSelector" style="display: none;">
                <option value="real">Real (R$)</option>
                <option value="dollar">D√≥lar (US$)</option>
                <option value="euro">Euro (‚Ç¨)</option>
              </select>
            </div>
            <div class="status-item">
              <span class="label">i:</span>
              <div class="value-container">
                <span class="value" id="iValue">-</span>
                <button class="clear-value-btn" id="clearI" style="display: none;" title="Remover valor i">x</button>
              </div>
              <select class="rate-selector" id="rateSelector" style="display: none;">
                <option value="day">Dia</option>
                <option value="month" selected>M√™s</option>
                <option value="year">Ano</option>
              </select>
            </div>
            <div class="status-item">
              <span class="label">n:</span>
              <div class="value-container">
                <span class="value" id="nValue">-</span>
                <button class="clear-value-btn" id="clearN" style="display: none;" title="Remover valor n">x</button>
              </div>
              <select class="period-selector" id="periodSelector" style="display: none;">
                <option value="day">Dias</option>
                <option value="month" selected>Meses</option>
                <option value="year">Anos</option>
              </select>
            </div>
            <div class="status-item juros-field">
              <span class="label">J:</span>
              <div class="value-container">
                <span class="value" id="jValue">-</span>
                <button class="clear-value-btn" id="clearJ" style="display: none;" title="Remover valor J">x</button>
              </div>
              <select class="value-selector" id="jSelector" style="display: none;">
                <option value="real">Real (R$)</option>
                <option value="dollar">D√≥lar (US$)</option>
                <option value="euro">Euro (‚Ç¨)</option>
              </select>
            </div>
            <div class="status-item desconto-field">
              <span class="label">D:</span>
              <div class="value-container">
                <span class="value" id="dValue">-</span>
                <button class="clear-value-btn" id="clearD" style="display: none;" title="Remover valor D">x</button>
              </div>
              <select class="value-selector" id="dSelector" style="display: none;">
                <option value="real">Real (R$)</option>
                <option value="dollar">D√≥lar (US$)</option>
                <option value="euro">Euro (‚Ç¨)</option>
              </select>
            </div>
          </div>

          <!-- Teclado da calculadora -->
          <div class="keypad">
            <!-- Primeira linha - Fun√ß√µes financeiras -->
            <div class="keypad-row">
              <button class="btn financial-btn" data-function="pv">PV</button>
              <button class="btn financial-btn" data-function="fv">FV</button>
              <button class="btn financial-btn" data-function="j">J</button>
              <button class="btn financial-btn" data-function="i">i</button>
              <button class="btn financial-btn" data-function="n">n</button>
            </div>

            <!-- Segunda linha - Opera√ß√µes especiais -->
            <div class="keypad-row">
              <button class="btn operation-btn" data-function="cpt">CPT</button>
              <button class="btn operation-btn" data-function="ac">AC</button>
              <button class="btn operation-btn" data-function="ce">CE</button>
              <button class="btn operation-btn" data-function="sinal">+/-</button>
              <button class="btn operation-btn" data-function="porcento">%</button>
            </div>

            <!-- Terceira linha - N√∫meros -->
            <div class="keypad-row">
              <button class="btn number-btn" data-number="7">7</button>
              <button class="btn number-btn" data-number="8">8</button>
              <button class="btn number-btn" data-number="9">9</button>
              <button class="btn operation-btn" data-function="divide">√∑</button>
              <button class="btn operation-btn" data-function="limpa">‚Üê</button>
            </div>

            <!-- Quarta linha - N√∫meros -->
            <div class="keypad-row">
              <button class="btn number-btn" data-number="4">4</button>
              <button class="btn number-btn" data-number="5">5</button>
              <button class="btn number-btn" data-number="6">6</button>
              <button class="btn operation-btn" data-function="multiplica">x</button>
              <button class="btn operation-btn" data-function="raiz">‚àö</button>
            </div>

            <!-- Quinta linha - N√∫meros -->
            <div class="keypad-row">
              <button class="btn number-btn" data-number="1">1</button>
              <button class="btn number-btn" data-number="2">2</button>
              <button class="btn number-btn" data-number="3">3</button>
              <button class="btn operation-btn" data-function="subtrai">-</button>
              <button class="btn operation-btn" data-function="potencia">x¬≤</button>
            </div>

            <!-- Sexta linha - Zero e decimal -->
            <div class="keypad-row">
              <button class="btn number-btn zero-btn" data-number="0">0</button>
              <button class="btn operation-btn" data-function="decimal">.</button>
              <button class="btn operation-btn" data-function="soma">+</button>
              <button class="btn operation-btn equals-btn" data-function="igual">=</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/script.js"></script>
  
  <script>
    // Fun√ß√£o para alternar se√ß√µes de teste
    function toggleSection(header) {
      const content = header.nextElementSibling;
      const button = header.querySelector('.toggle-btn');
      
      if (content.classList.contains('active')) {
        content.classList.remove('active');
        button.textContent = 'Expandir';
      } else {
        content.classList.add('active');
        button.textContent = 'Recolher';
      }
    }

    // Auto-expand primeira se√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
      const firstSection = document.querySelector('.test-content');
      const firstButton = document.querySelector('.toggle-btn');
      if (firstSection && firstButton) {
        firstSection.classList.add('active');
        firstButton.textContent = 'Recolher';
      }

      // Foca na calculadora para permitir entrada por teclado
      setTimeout(() => {
        const calc = document.getElementById('calculator');
        if (calc) calc.focus();
      }, 500);
    });

    // Adiciona logs para debug
    window.addEventListener('error', function(e) {
      console.error('Erro detectado:', e.error);
    });

    // Monitor de mudan√ßas na calculadora para feedback visual
    let lastDisplay = '';
    setInterval(() => {
      const display = document.getElementById('mainDisplay');
      if (display && display.textContent !== lastDisplay) {
        lastDisplay = display.textContent;
        console.log('Display atualizado:', lastDisplay);
      }
    }, 500);
  </script>
</body>

</html>
